<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="uc511">
<title>uc511 - Spatially Balanced Sampling • uc511</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="uc511 - Spatially Balanced Sampling">
<meta property="og:description" content="uc511">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">uc511</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/uc511.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>uc511 - Spatially Balanced Sampling</h1>
                        <h4 data-toc-skip class="author">Phil Davies</h4>
            
            <h4 data-toc-skip class="date">19/11/2023</h4>
      
      
      <div class="d-none name"><code>uc511.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">uc511</span><span class="op">)</span></span>
<span><span class="co">#&gt; The legacy packages maptools, rgdal, and rgeos, underpinning the sp package,</span></span>
<span><span class="co">#&gt; which was just loaded, will retire in October 2023.</span></span>
<span><span class="co">#&gt; Please refer to R-spatial evolution reports for details, especially</span></span>
<span><span class="co">#&gt; https://r-spatial.org/r/2023/05/15/evolution4.html.</span></span>
<span><span class="co">#&gt; It may be desirable to make the sf package available;</span></span>
<span><span class="co">#&gt; package maintainers should consider adding sf to Suggests:.</span></span>
<span><span class="co">#&gt; The sp package is now running under evolution status 2</span></span>
<span><span class="co">#&gt;      (status 2 uses the sf package in place of rgdal)</span></span></code></pre></div>
<div class="section level2">
<h2 id="uc511-spatially-balanced-sampling-">uc511: Spatially balanced sampling.<a class="anchor" aria-label="anchor" href="#uc511-spatially-balanced-sampling-"></a>
</h2>
<p>This vignette is intended to provide details of the functions and methods in the <strong>uc511</strong> package. The <strong>uc511</strong> package encapsulates a number of spatially balanced sampling algorithms namely, Balanced acceptance sampling (BAS) (equal, unequal, seed point, panels), Halton frames (for discretizing a continuous resource), HIP (equal probability), Spatial balance measures (Voronoi and Modified Moran’s I), Variance estimators (local mean, nearest neighbour and quasi bootstrap), DAS and the Spatial stratification algorithm.</p>
<p>This vignette is divided into the following sections:</p>
<ul>
<li>Simple Random Sampling (SRS)</li>
<li>Balanced acceptance sampling (BAS)</li>
<li>Halton Iterative Partitioning (HIP)</li>
<li>Halton Frames (HF)</li>
</ul>
<p>Lets start by looking at Simple Random Sampling (SRS).</p>
<div class="section level3">
<h3 id="simple-random-sampling-srs">Simple Random Sampling (SRS)<a class="anchor" aria-label="anchor" href="#simple-random-sampling-srs"></a>
</h3>
<p>Explain SRS here…</p>
<div class="section level4">
<h4 id="uc511srs">uc511::SRS()<a class="anchor" aria-label="anchor" href="#uc511srs"></a>
</h4>
<p>This function invokes <strong>base::sample()</strong> to draw a random sample using a user specified random seed. Returned is a list of random positive integers of length <strong>sample_size</strong>, in the range 1 to <strong>total_rows</strong>, these can then be used to index the original population data.</p>
<p>The following parameters are supported:</p>
<ul>
<li>
<strong>seed</strong> - The random seed to be used to draw the current sample. The default is 42.</li>
<li>
<strong>total_rows</strong> - The total number of rows in your population.</li>
<li>
<strong>sample_size</strong> - The number of rows wanted in the random sample.</li>
</ul>
<p>All parameter values must be numeric and have values greater than zero, <strong>sample_size</strong> must be less than <strong>total_rows</strong>.</p>
<div class="section level5">
<h5 id="uc511srs-code-example">uc511::SRS() code example<a class="anchor" aria-label="anchor" href="#uc511srs-code-example"></a>
</h5>
<p>Function <strong>uc511::SRS()</strong> returns a list of size <strong>sample_size</strong>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a random sample of 20 with a seed of 99 from a population of 100.</span></span>
<span><span class="va">rand_samp</span> <span class="op">&lt;-</span> <span class="fu">uc511</span><span class="fu">::</span><span class="fu"><a href="../reference/SRS.html">SRS</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">99</span>, total_rows <span class="op">=</span> <span class="fl">100</span>, sample_size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">rand_samp</span></span>
<span><span class="co">#&gt;  [1] 48 33 44 22 62 32 13 20 31 68  9 82 88 30 86 84 95 14  4 78</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="balanced-acceptance-sampling-bas">Balanced acceptance sampling (BAS)<a class="anchor" aria-label="anchor" href="#balanced-acceptance-sampling-bas"></a>
</h3>
<p>Explain BAS here…</p>
<div class="section level4">
<h4 id="load-shape-file-input-options-for-bas">Load Shape File : Input Options for BAS<a class="anchor" aria-label="anchor" href="#load-shape-file-input-options-for-bas"></a>
</h4>
<p>BAS offers flexibility in data input, allowing you to choose between two options:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Load Shape File</strong>: With this option, you can directly import data from shape files. This method is suitable when your data is stored in geographic information system (GIS) format and is ready to be used for analysis within the BAS option.</p></li>
<li><p><strong>Select Shape File from Datafile</strong>: Alternatively, you can choose to import data from an R datafile. This option is useful when you have your data stored in an R-compatible format. It provides a seamless way to access and analyze your data within the BAS option.</p></li>
</ol>
<p>These input options enable you to work with your data in the most convenient and compatible format, making it easier to perform BAS analysis and visualization.</p>
<div class="section level5">
<h5 id="load-shape-file">Load Shape File<a class="anchor" aria-label="anchor" href="#load-shape-file"></a>
</h5>
<p>From this option select …. to find the location of your shape files, holding the <strong>Ctrl</strong> key down while clicking on the shapefile files enables the selection of multiple files, click <strong>OK</strong> when you have selected all required files. The app will load the files. Once loaded, the …. are added to the <strong>Select Shapefile column</strong> dropdown box.</p>
<p>The user then selects a … from the <strong>Select Shapefile column</strong> dropdown box, this populates the <strong>Select Region of Interest</strong> dropdown boxes with region from the shapefile. From this dropdown box the user can now select one or more regions.</p>
<p>Once one or more regions have been selected the <strong>Specify Parameters</strong> menu option will become enabled allowing the user to specify or update BAS parameters.</p>
</div>
<div class="section level5">
<h5 id="select-shape-file-from-datafile">Select shape file from datafile<a class="anchor" aria-label="anchor" href="#select-shape-file-from-datafile"></a>
</h5>
<p>Need to rework this…</p>
<p>From this option select …. to find the location of your shape files, holding the <strong>Ctrl</strong> key down while clicking on the desired shapefile files enables the selection of multiple files, click <strong>OK</strong> when you have selected all the required files. The app will load the files. Once loaded, the …. are added to the <strong>Select Shapefile column</strong> dropdown box.</p>
<p>The user then selects a … from the <strong>Select Shapefile column</strong> dropdown box, this populates the <strong>Select Region of Interest</strong> dropdown boxes with region from the shapefile. From this dropdown box the user can now select one or more regions.</p>
<p>Once one or more regions have been selected the <strong>Specify Parameters</strong> menu option will become enabled allowing the user to specify or update BAS parameters.</p>
</div>
</div>
<div class="section level4">
<h4 id="specify-parameters">Specify Parameters<a class="anchor" aria-label="anchor" href="#specify-parameters"></a>
</h4>
<p>Once you have chosen your input source, whether it’s from shape files using the “Load Shape File” option or from an R datafile using the “Select Shape File from Datafile” option, the next step is to configure BAS parameters.</p>
<p>At this point, the “Specify Parameters” menu option becomes enabled, allowing you to customize and fine-tune the parameters for your analysis. You can specify or update these parameters to tailor the analysis to your specific needs, ensuring that you obtain meaningful results from your data.</p>
<div class="section level5">
<h5 id="sample-size-control-your-sample">Sample Size : Control Your Sample<a class="anchor" aria-label="anchor" href="#sample-size-control-your-sample"></a>
</h5>
<p>The <strong>Sample Size</strong> option empowers you to define the size of the sample you need for your analysis. You have two choices when specifying the sample size:</p>
<ol style="list-style-type: decimal">
<li><p>Percentage of Population Size: You can set the sample size as a percentage of the total population size.</p></li>
<li><p>Explicit Number: Alternatively, you can specify the sample size as an exact number.</p></li>
</ol>
<p>Once you have determined the sample size, the <strong>Generate Sample</strong> menu option will become active. This enables you to create a BAS sample with the specified size. This feature ensures that you have the flexibility to tailor your analysis to the exact sample size you require, making your results more precise and meaningful.</p>
</div>
<div class="section level5">
<h5 id="random-seed-options-reproducibility">Random Seed Options : Reproducibility<a class="anchor" aria-label="anchor" href="#random-seed-options-reproducibility"></a>
</h5>
<p>The <strong>Random Seed Options</strong> feature allows you to control the randomness in your analysis. By specifying a random seed, you can ensure reproducibility in your results. This seed value will be used by the <strong>set.seed()</strong> function before generating the BAS sample.</p>
<p>By default, the Shiny app sets a random seed within the range of <span class="math inline">\(1\)</span> to <span class="math inline">\(10,000\)</span>. However, if you want to use a specific seed of your choice, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Select the <strong>User specified seed</strong> option.</li>
<li>Enter your desired seed value in the input box labeled <strong>Specify the seed to use</strong>.</li>
</ol>
<p>Please note that only positive integer values within the range of <span class="math inline">\(1\)</span> to <span class="math inline">\(10,000\)</span> are accepted. This allows you to have fine-grained control over the randomness in your analysis while maintaining reproducibility.</p>
</div>
<div class="section level5">
<h5 id="use-st_transform-shapefile-data-transformation">Use st_transform : Shapefile Data Transformation<a class="anchor" aria-label="anchor" href="#use-st_transform-shapefile-data-transformation"></a>
</h5>
<p>The <strong>st_transform</strong> is essential when you want to apply a transformation to your shapefile data before visualizing it using the <strong>Visualize Sample</strong> option.</p>
<p>Here’s how you can use the <strong>st_transform</strong> feature:</p>
<ol style="list-style-type: decimal">
<li>Ensure that you’ve checked the <strong>Use st_transform</strong> checkbox.</li>
<li>In the <strong>Use this st_transform code</strong> text box, specify the transformation code you want to apply to your data.</li>
</ol>
<p>The default transformation code is set to <span class="math inline">\(4326\)</span>. However, you can customize this code to match your specific transformation requirements. This functionality allows you to adapt your shapefile data to different coordinate systems or projections, ensuring that it aligns correctly with your visualization needs.</p>
</div>
<div class="section level5">
<h5 id="minimum-distance">Minimum Distance<a class="anchor" aria-label="anchor" href="#minimum-distance"></a>
</h5>
<p>Fill this in.</p>
</div>
</div>
<div class="section level4">
<h4 id="generate-sample-generate-sample-menu-options">Generate Sample : Generate Sample Menu Options<a class="anchor" aria-label="anchor" href="#generate-sample-generate-sample-menu-options"></a>
</h4>
<p>The <strong>Generate Sample</strong> menu option offers the following user choices:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Generate a BAS Sample</strong>: You can use this option to create a BAS sample with the specified parameters. This sample is essential for conducting various analyses and visualizations within the application.</p></li>
<li><p><strong>Download BAS Sample</strong>: After generating a sample, you have the option to save it. This allows you to store the sample data for future reference or for use in external analyses. Saving the sample enables you to maintain a record of your analysis results and enhances data management.</p></li>
</ol>
<div class="section level5">
<h5 id="generate-bas-sample-generating-the-bas-sample">Generate BAS Sample : Generating the BAS Sample<a class="anchor" aria-label="anchor" href="#generate-bas-sample-generating-the-bas-sample"></a>
</h5>
<p>To create the BAS sample, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Click on the <strong>Generate Sample</strong> button.</li>
</ol>
<p>Upon clicking this button, the Shiny app will generate a BAS sample according to your specified parameters. After the sample is generated, the following information will be displayed:</p>
<ul>
<li><p><strong>First Ten Data Points</strong>: You will be able to view the first ten data points from the sample. This allows you to get a quick overview of the data.</p></li>
<li><p><strong>Random Seed</strong>: The random seed that was used for generating the sample will also be provided. This seed is crucial for ensuring reproducibility in your analysis. You can record this seed for future reference if needed.</p></li>
</ul>
<p>By providing access to the initial sample data and the random seed used, the BAS app helps you verify and reproduce your analysis results with transparency and accuracy.</p>
</div>
<div class="section level5">
<h5 id="download-bas-sample-saving-the-generated-sample-to-a-csv-file">Download BAS Sample : Saving the Generated Sample to a CSV File<a class="anchor" aria-label="anchor" href="#download-bas-sample-saving-the-generated-sample-to-a-csv-file"></a>
</h5>
<p>If you wish to save the generated sample as a CSV file, follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Use this option when you want to store the sample data for future reference or further analysis.</p></li>
<li><p>Click the <strong>Download</strong> button to initiate the file-saving process. This action will open a standard file save dialog.</p></li>
</ol>
<p>The default file name generated by the application follows this format:</p>
<ul>
<li>dataset-bas-sample-yyyy-mm-dd-seed-ssss.csv</li>
</ul>
<p>Here’s what each part of the default file name represents:</p>
<ul>
<li>
<strong>yyyy</strong>: The year when the sample was generated.</li>
<li>
<strong>mm</strong>: The month when the sample was generated.</li>
<li>
<strong>dd</strong>: The day when the sample was generated.</li>
<li>
<strong>ssss</strong>: The seed used to generate the sample.</li>
</ul>
<p>However, you have the freedom to customize both the file name and the location where the file will be saved. This flexibility allows you to organize your data according to your preferences, making it easier to manage and work with your BAS samples.</p>
</div>
</div>
<div class="section level4">
<h4 id="visualize-sample-visualize-sample-menu-options">Visualize Sample : Visualize Sample Menu Options<a class="anchor" aria-label="anchor" href="#visualize-sample-visualize-sample-menu-options"></a>
</h4>
<p>The <strong>Visualize Sample</strong> menu option offers the following user choices:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Visualize BAS Sample on Map</strong>: Selecting this option allows you to generate an interactive Leaflet map that displays your BAS sample. This map provides a visual representation of your data points and enables you to explore and analyze them spatially.</p></li>
<li><p><strong>Save Image</strong>: After visualizing the BAS sample on the map, you have the option to save the map image. This feature allows you to preserve the visualization for future reference or to include it in reports and presentations. Saving the image enhances your ability to communicate and share your analysis results effectively.</p></li>
</ol>
<div class="section level5">
<h5 id="visualize-bas-sample-on-map">Visualize BAS Sample on Map<a class="anchor" aria-label="anchor" href="#visualize-bas-sample-on-map"></a>
</h5>
<p>With the <strong>Visualize BAS Sample on Map</strong> menu item, users can effortlessly generate an interactive Leaflet map. This map is automatically generated when you select the <strong>Visualize Sample</strong> menu option.</p>
<p>To ensure successful map generation, follow these prerequisites:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Specify Parameters</strong>: Use the <strong>Specify Parameters</strong> menu option to specify the column names to be used as the X and Y axes. This can be done by choosing the <strong>Select X and Y columns</strong> option.</p></li>
<li><p>Coordinate System Transformation: Specify a Coordinate Reference System (CRS) EPSG transform code using the “Projected coordinate system” option. This step ensures that your data aligns correctly on the map.</p></li>
</ol>
<p>By default, the map displays both the original data points in black and the sample points in red. You can control which sets of points are displayed on the map using the Leaflet map control called <strong>addLayersControl</strong>. This feature allows you to toggle between displaying the original data and the sample data, providing flexibility in your visualization.</p>
<p>Additionally, when you click on any point on the map, a popup message box will appear, displaying the latitude and longitude coordinates of that specific point. This interactive functionality allows you to explore and analyze individual data points directly on the map, enhancing your data visualization experience.</p>
</div>
<div class="section level5">
<h5 id="visualize-bas-sample-points">Visualize BAS Sample Points<a class="anchor" aria-label="anchor" href="#visualize-bas-sample-points"></a>
</h5>
<p>Do we really need this?</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="halton-iterative-partitioning-hip">Halton Iterative Partitioning (HIP)<a class="anchor" aria-label="anchor" href="#halton-iterative-partitioning-hip"></a>
</h3>
<p>Halton iterative partitioning (HIP) extends Basic acceptance sampling (BAS) to point resources. It partitions the resource into <span class="math inline">\(B ≥ n\)</span> boxes that have the same nested structure as in BAS, but different sizes. These boxes are then uniquely numbered using a random-start Halton sequence of length <span class="math inline">\(B\)</span>. The HIP sample is obtained by randomly drawing one point from each of the boxes numbered <span class="math inline">\(1, 2, . . . , n\)</span>.</p>
<p>The <strong>uc511::HIP()</strong> function invokes <strong>uc511::cppRSHalton_br()</strong> to generate the Halton points.</p>
<div class="section level4">
<h4 id="uc511hip">uc511::HIP()<a class="anchor" aria-label="anchor" href="#uc511hip"></a>
</h4>
<p>To generate a HIP sample use the <strong>uc511::HIP()</strong> function, it accepts the following parameters:</p>
<div class="section level5">
<h5 id="population">population<a class="anchor" aria-label="anchor" href="#population"></a>
</h5>
<p>The <strong>population</strong> parameter is required (there is no default), this is a list of points comprising the population from which the sample will be drawn. The <strong>population</strong> parameter can be specified as either a <strong>sf</strong> points object or a dataframe.</p>
</div>
<div class="section level5">
<h5 id="n">n<a class="anchor" aria-label="anchor" href="#n"></a>
</h5>
<p>The <strong>n</strong> parameter is the number of points to draw from the population. The default value is <strong>20</strong>.</p>
</div>
<div class="section level5">
<h5 id="iterations">iterations<a class="anchor" aria-label="anchor" href="#iterations"></a>
</h5>
<p>The <strong>iterations</strong> parameter is the number of levels of partitioning required. The default value is <strong>7</strong>.</p>
</div>
</div>
<div class="section level4">
<h4 id="uc511hip-output">uc511::HIP() output<a class="anchor" aria-label="anchor" href="#uc511hip-output"></a>
</h4>
<p>The <strong>uc511::HIP</strong> function returns the following output in the form of a list of variables. The variable names and what they contain are as follows:</p>
<ul>
<li>
<strong>sampleI</strong> - indices of the selected sample points from the population.</li>
<li>
<strong>popIndex</strong> - <strong><em>what are these used for?</em></strong>
</li>
<li>
<strong>Order</strong> - <strong><em>what are these used for?</em></strong>
</li>
<li>
<strong>HaltonIndex</strong> - The Halton indices for all the population points.</li>
<li>
<strong>PopulationSample</strong> - The sample drawn from the population, it is returned to the user as a <strong>sf</strong> points object with the <strong>PopulationIndex</strong>, <strong>Order</strong> and <strong>HaltonIndex</strong> variables added as new features to the sample.</li>
</ul>
</div>
<div class="section level4">
<h4 id="uc511hip-code-example">uc511::HIP() code example<a class="anchor" aria-label="anchor" href="#uc511hip-code-example"></a>
</h4>
<p>The following sample code to demonstrate the use of the <strong>uc511::HIP()</strong> function. Here we are generating <span class="math inline">\(20\)</span> points from a population of <span class="math inline">\(5,000\)</span> (random) points with <span class="math inline">\(7\)</span> levels of partitioning (<span class="math inline">\(4\)</span> in the first dimension and <span class="math inline">\(3\)</span> in the second) to give <span class="math inline">\(2^4 = 32\)</span> by <span class="math inline">\(3^3 = 27\)</span> boxes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set random seed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1110</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># define HIP parameters.</span></span>
<span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">500</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">500</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">36</span></span>
<span><span class="va">its</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span></span>
<span><span class="co"># Convert the population matrix to an sf point object.</span></span>
<span><span class="va">sf_points</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">pop</span><span class="op">)</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X1"</span>, <span class="st">"X2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html" class="external-link">st_coordinates</a></span><span class="op">(</span><span class="va">sf_points</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 500   2</span></span>
<span></span>
<span><span class="co"># generate HIP sample.</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">uc511</span><span class="fu">::</span><span class="fu"><a href="../reference/HIP.html">HIP</a></span><span class="op">(</span>population <span class="op">=</span> <span class="va">sf_points</span>, </span>
<span>                     n <span class="op">=</span> <span class="va">n</span>, </span>
<span>                     iterations <span class="op">=</span>  <span class="va">its</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "It's an sf points object!"</span></span>
<span></span>
<span><span class="co"># sampleI - indices of the selected samples from the population.</span></span>
<span><span class="va">sampleI</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">sampleI</span></span>
<span><span class="va">sampleI</span></span>
<span><span class="co">#&gt;  [1] 158 168 461  22 206 267 134 388 323 322 239 384 183 294 449 500 440 169 111</span></span>
<span><span class="co">#&gt; [20] 476 364  94   8 214 261  24 189 102 166 488 415 471 295 431 395 119</span></span>
<span></span>
<span><span class="co"># popIndex</span></span>
<span><span class="va">popIndex</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">popIndex</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">popIndex</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span>
<span></span>
<span><span class="co"># Order</span></span>
<span><span class="va">Order</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">Order</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Order</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 339 282 354 164 193 265</span></span>
<span></span>
<span><span class="co"># HaltonIndex</span></span>
<span><span class="va">HaltonIndex</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">HaltonIndex</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">HaltonIndex</span><span class="op">)</span></span>
<span><span class="co">#&gt; HaltonIndex</span></span>
<span><span class="co">#&gt;  0  1  2  3  4  5  6  7  8  9 10 11 </span></span>
<span><span class="co">#&gt; 41 41 41 41 41 41 41 41 41 41 41 41</span></span>
<span></span>
<span><span class="co"># Population Sample</span></span>
<span><span class="va">PopulationSample</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">PopulationSample</span></span>
<span><span class="va">PopulationSample</span></span>
<span><span class="co">#&gt; Simple feature collection with 36 features and 3 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 0.1052627 ymin: 0.02691417 xmax: 0.9906434 ymax: 0.9928633</span></span>
<span><span class="co">#&gt; CRS:           NA</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;                        geometry PopulationIndex Order HaltonIndex</span></span>
<span><span class="co">#&gt; 1   POINT (0.6360102 0.3621826)             161    91          10</span></span>
<span><span class="co">#&gt; 2   POINT (0.1160351 0.4281732)             171   465           0</span></span>
<span><span class="co">#&gt; 3   POINT (0.7908288 0.9928633)             469   329           8</span></span>
<span><span class="co">#&gt; 4  POINT (0.3727725 0.04440845)              22     3           6</span></span>
<span><span class="co">#&gt; 5   POINT (0.5871755 0.5115127)             209   162           3</span></span>
<span><span class="co">#&gt; 6   POINT (0.1052627 0.8828905)             270   418           7</span></span>
<span><span class="co">#&gt; 7   POINT (0.9585368 0.2206295)             137   108           9</span></span>
<span><span class="co">#&gt; 8   POINT (0.3826913 0.6184779)             394   209           8</span></span>
<span><span class="co">#&gt; 9   POINT (0.6289525 0.9084795)             326   126           3</span></span>
<span><span class="co">#&gt; 10 POINT (0.2294293 0.09852393)             325   116           5</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="halton-frames-hf">Halton Frames (HF)<a class="anchor" aria-label="anchor" href="#halton-frames-hf"></a>
</h3>
<p>A Halton frame is a useful grid structure, it is a collection of Halton boxes that intersect a resource.</p>
<div class="section level4">
<h4 id="uc511haltonframebase">uc511::HaltonFrameBase()<a class="anchor" aria-label="anchor" href="#uc511haltonframebase"></a>
</h4>
<p>This function invokes <strong>uc511::cppRSHalton_br()</strong> to generate Halton points.</p>
<p>The following parameters are supported:</p>
<ul>
<li>
<strong>J</strong> - The number of grid cells required. The default is <span class="math inline">\(c(3, 2)\)</span>.</li>
<li>
<strong>bases</strong> - The co-prime base for the Halton sequence. The default is <span class="math inline">\(c(2, 3)\)</span>.</li>
<li>
<strong>n</strong> - The number of Halton points to generate. The default is (<span class="math inline">\(bases[1]^{J[1]} * bases[2]^{J[2]}\)</span>).</li>
</ul>
<p>All parameter values must be numeric and have values greater than zero. The <strong>J</strong> and <strong>bases</strong> parameters must each be a list of length two.</p>
<div class="section level5">
<h5 id="uc511haltonframebase-code-example">uc511::HaltonFrameBase() code example<a class="anchor" aria-label="anchor" href="#uc511haltonframebase-code-example"></a>
</h5>
<p>Function <strong>uc511::HaltonFrame()</strong> returns a list of variables, the variables have the following names:</p>
<ul>
<li>
<strong>halton_frame</strong> the generated Halton frame.</li>
<li>
<strong>halton_sequence</strong> the generated Halton sequence.</li>
<li>
<strong>Z</strong> something.</li>
<li>
<strong>halton_seq_dev</strong> the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> axis values that can be used when plotting to sub-divide the Halton frame.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define parameters.</span></span>
<span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">bases</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">bases</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">^</span><span class="va">J</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">bases</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">^</span><span class="va">J</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate Halton frame.</span></span>
<span><span class="va">hf_</span> <span class="op">&lt;-</span> <span class="fu">uc511</span><span class="fu">::</span><span class="fu"><a href="../reference/HaltonFrameBase.html">HaltonFrameBase</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, </span>
<span>                              J <span class="op">=</span> <span class="va">J</span>, </span>
<span>                              bases <span class="op">=</span> <span class="va">bases</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># retrieve the Halton sequence.</span></span>
<span><span class="va">halton_seq</span> <span class="op">&lt;-</span> <span class="va">hf_</span><span class="op">$</span><span class="va">halton_seq</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">halton_seq</span><span class="op">)</span></span>
<span><span class="co">#&gt;          [,1]       [,2]</span></span>
<span><span class="co">#&gt; [1,] 0.664093 0.64876628</span></span>
<span><span class="co">#&gt; [2,] 0.414093 0.98209961</span></span>
<span><span class="co">#&gt; [3,] 0.914093 0.03148233</span></span>
<span><span class="co">#&gt; [4,] 0.101593 0.36481566</span></span>
<span><span class="co">#&gt; [5,] 0.601593 0.69814899</span></span>
<span><span class="co">#&gt; [6,] 0.351593 0.14259344</span></span>
<span></span>
<span><span class="co"># retrieve the x-axis division values.</span></span>
<span><span class="va">halton_seq_x_divisions</span> <span class="op">&lt;-</span> <span class="va">hf_</span><span class="op">$</span><span class="va">halton_seq_div</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">halton_seq_x_divisions</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 0.0 0.5</span></span>
<span></span>
<span><span class="co"># retrieve the y-axis division values.</span></span>
<span><span class="va">halton_seq_y_divisions</span> <span class="op">&lt;-</span> <span class="va">hf_</span><span class="op">$</span><span class="va">halton_seq_div</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="va">halton_seq_y_divisions</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 0.0000000 0.3333333 0.6666667</span></span>
<span></span>
<span><span class="co"># retrieve the Z values.</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">hf_</span><span class="op">$</span><span class="va">Z</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt;            [,1]       [,2]</span></span>
<span><span class="co">#&gt; [1,] 0.69338989 0.63230537</span></span>
<span><span class="co">#&gt; [2,] 0.44338989 0.96563871</span></span>
<span><span class="co">#&gt; [3,] 0.94338989 0.06440414</span></span>
<span><span class="co">#&gt; [4,] 0.06057739 0.39773747</span></span>
<span><span class="co">#&gt; [5,] 0.56057739 0.73107081</span></span>
<span><span class="co">#&gt; [6,] 0.31057739 0.17551525</span></span>
<span></span>
<span><span class="co"># retrieve the Halton frame.</span></span>
<span><span class="va">halton_frame</span> <span class="op">&lt;-</span> <span class="va">hf_</span><span class="op">$</span><span class="va">halton_frame</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">halton_frame</span><span class="op">)</span></span>
<span><span class="co">#&gt;       x_dim      y_dim</span></span>
<span><span class="co">#&gt; [1,] 0.6875 0.61111111</span></span>
<span><span class="co">#&gt; [2,] 0.4375 0.94444444</span></span>
<span><span class="co">#&gt; [3,] 0.9375 0.05555556</span></span>
<span><span class="co">#&gt; [4,] 0.0625 0.38888889</span></span>
<span><span class="co">#&gt; [5,] 0.5625 0.72222222</span></span>
<span><span class="co">#&gt; [6,] 0.3125 0.16666667</span></span></code></pre></div>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="the-uc511-shiny-app-for-spatially-balanced-sampling-">The uc511 Shiny App for Spatially balanced sampling.<a class="anchor" aria-label="anchor" href="#the-uc511-shiny-app-for-spatially-balanced-sampling-"></a>
</h2>
<p>Part of the uc511 package is the uc511 Shiny App, this provides a user interface to the uc511 package. Currently the following options are supported:</p>
<ul>
<li>
<strong>SRS</strong> Simple random sampling using the <strong>uc511::SRS()</strong> function.</li>
<li>
<strong>BAS</strong> Balanced acceptance sampling using the <strong>uc511::BAS()</strong> function.</li>
<li>
<strong>HIP</strong> Halton Iterative Partitioning using the <strong>uc511::HIP()</strong> function.</li>
</ul>
<p>The following sections detail how to use the supported features in the uc511 Shiny App.</p>
<div class="section level3">
<h3 id="uc511srs-from-the-uc511-shiny-app">uc511::SRS() from the uc511 Shiny App<a class="anchor" aria-label="anchor" href="#uc511srs-from-the-uc511-shiny-app"></a>
</h3>
<p>The <strong>uc511</strong> <strong>R</strong> package also includes a Shiny App, this has a menu option (SRS) to invoke Simple Random Sampling. The <em>SRS</em> menu option supports the following sub-menu’s, <strong>Load Auxillary File</strong>, <strong>Specify Parameters</strong>, <strong>Generate SRS Sample</strong>, <strong>something</strong> and <strong>something</strong>. We will now look in turn at the options provided by each menu item. Each menu item will not enable until all relevant options on the previous menu item have been appropriately selected or provided.</p>
<div class="section level4">
<h4 id="load-auxillary-file">Load Auxillary File<a class="anchor" aria-label="anchor" href="#load-auxillary-file"></a>
</h4>
<p>Here the user selects the “Browse…” button to initiate the file selection dialog. The selection of a single CSV file is supported. The application assumes that the first row of the CSV contains column headings. Once a CSV file has been selected and loaded the <strong>Specify Parameters</strong> menu item is enabled.</p>
</div>
<div class="section level4">
<h4 id="specify-parameters-1">Specify Parameters<a class="anchor" aria-label="anchor" href="#specify-parameters-1"></a>
</h4>
<p>With this menu item, the user is able to specify parameters that will be subsequently passed to the <strong>uc511::SRS</strong> function. The <strong>Specify Parameters</strong> menu item supports the following tab panels: <strong>Sample source</strong>, <strong>Sample size</strong>, <strong>Random seed options</strong>, <strong>Select X and Y columns</strong>, and <strong>Projected coordinate system</strong>. We will now look at each option in turn, to see what they do and how they are used.</p>
<div class="section level5">
<h5 id="sample-source">Sample source<a class="anchor" aria-label="anchor" href="#sample-source"></a>
</h5>
<p>The <strong>Sample source</strong> option controls what type of sample is generated from the auxillary file. At the time of writing only two options are supported:</p>
<ul>
<li><p><strong>Sample from Auxillary File</strong> This is the default. When this option is selected, the user wants to create a random sample from the previously loaded auxillary file.</p></li>
<li><p><strong>Create Master Frame and take sample</strong> When this option is selected, a Master Frame (need to define this) is created from the auxillary file and then a random sample is then created from the Master Frame.</p></li>
</ul>
</div>
<div class="section level5">
<h5 id="sample-size">Sample size<a class="anchor" aria-label="anchor" href="#sample-size"></a>
</h5>
<p>The <strong>Sample size</strong> option controls the size of the generated sample. At the time of writing only two options are supported:</p>
<ul>
<li><p><strong>Sample size as a percentage</strong> This is the default. If this option is selected, a slider is displayed. Use the slider to select the percentage of the auxillary file to be used as the sample. The corresponding sample size is displayed as an integer in a textbox to the right of the slider.</p></li>
<li><p><strong>User specified sample size</strong> (Rename this option in the app and update here!). If this option is selected, the user is able to specify a specific sample size in a text inputbox. A sample size in the range one upto the number of rows in the auxillary file is supported.</p></li>
</ul>
<p>The <strong>Generate Sample</strong> menu item will only enable once the application user has specified a sample size.</p>
</div>
<div class="section level5">
<h5 id="random-seed-options">Random seed options<a class="anchor" aria-label="anchor" href="#random-seed-options"></a>
</h5>
<p>The <strong>Random seed options</strong> option controls how the random seed is set. At the time of writing only two options are supported:</p>
<ul>
<li><p><strong>Set seed randomly</strong> This is the default. If this option is selected, the shiny app. will generate a random seed in the range <strong>1-10,000</strong> (verify this!).</p></li>
<li><p><strong>User specified seed</strong> If this option is selected, a textinput box is displayed, which gives the user the opportunity to specify their own seed. Any valid integer is acceptable (check if I validate this!). A default of <strong>42</strong> is provided.</p></li>
</ul>
</div>
<div class="section level5">
<h5 id="select-x-and-y-columns">Select X and Y columns<a class="anchor" aria-label="anchor" href="#select-x-and-y-columns"></a>
</h5>
<p>The <strong>Select X and Y columns</strong> option gives the user the chance to select the columns to use for both the X and Y axes on the <strong>Visualize Sample</strong> menu option.</p>
<ul>
<li><p><strong>Select column to use for X</strong> From the drop down box select a single column name to use as the X-axis.</p></li>
<li><p><strong>Select column to use for Y</strong> From the drop down box select a single column name to use as the Y-axis.</p></li>
</ul>
<p>Both drop down boxes are populated using the column names obtained from the auxillary file.</p>
</div>
<div class="section level5">
<h5 id="projected-coordinate-system">Projected coordinate system<a class="anchor" aria-label="anchor" href="#projected-coordinate-system"></a>
</h5>
<p>This parameter is only used when the <strong>Visualize Sample</strong> option is selected. It provides the EPSG projected coordinate system to be used to create the <strong>proj4string</strong> (need to explain context).</p>
<ul>
<li>
<strong>Use CRS EPSG transform</strong> Check the check-box to have the option to specify a CRS EPSG code value. The default value is 28992 (where is this?).</li>
</ul>
<p>If the checkbox is not checked, no coordinate system transform will be performed.</p>
</div>
</div>
<div class="section level4">
<h4 id="generate-srs-sample">Generate SRS Sample<a class="anchor" aria-label="anchor" href="#generate-srs-sample"></a>
</h4>
<p>With this menu item, the user is able to generate the random sample using the parameters previously specified. The <strong>Generate SRS Sample</strong> menu item supports the following tab panels: <strong>Generate SRS sample</strong>, <strong>Download SRS sample</strong>, <strong>Download Master Sample Indices</strong> and <strong>Download Master Sample</strong>. We will now look at each option in turn, to see what they do and how they are used.</p>
<div class="section level5">
<h5 id="generate-srs-sample-1">Generate SRS sample<a class="anchor" aria-label="anchor" href="#generate-srs-sample-1"></a>
</h5>
<p>To generate the SRS sample, click the <strong>Generate SRS Sample</strong> button. The random seed used to generate the sample is displayed in a textbox to the right of screen. If the user wants to generate a new sample with a new seed, then they will have to change the seed from the <strong>Random seed options</strong> panel and then generate a new sample. The generated sample is displayed in a datatable for ease of perusal.</p>
</div>
<div class="section level5">
<h5 id="download-srs-sample">Download SRS sample<a class="anchor" aria-label="anchor" href="#download-srs-sample"></a>
</h5>
<p>Use this option if you want to save the generated sample to a CSV file. Click the <strong>Download</strong> button to initiate the file save process through a standard file save dialog. The default file name generated by the application has the form:</p>
<ul>
<li><strong>dataset-srs-sample-yyyy-mm-dd-seed.csv</strong></li>
</ul>
<p>Where <strong>yyyy</strong> is the year, <strong>mm</strong> the month, <strong>dd</strong> the day and <strong>seed</strong> the seed used to generate the sample. The user is of course free to change the file name and the location of where the file will be saved.</p>
</div>
<div class="section level5">
<h5 id="download-master-sample-indices">Download Master Sample Indices<a class="anchor" aria-label="anchor" href="#download-master-sample-indices"></a>
</h5>
<p>Use this option if you want to save the master sample indices to a CSV file. Click the <strong>Download</strong> button to initiate the file save process through a standard file save dialog. The default file name generated by the application has the form:</p>
<ul>
<li>
<strong>dataset-srs-master-sample-indices-yyyy-mm-dd-seed.csv</strong> (need to add seed in code)</li>
</ul>
<p>Where <strong>yyyy</strong> is the year, <strong>mm</strong> the month, <strong>dd</strong> the day and <strong>seed</strong> the seed used to generate the sample. The user is of course free to change the file name and the location of where the file will be saved.</p>
</div>
<div class="section level5">
<h5 id="download-master-sample">Download Master Sample<a class="anchor" aria-label="anchor" href="#download-master-sample"></a>
</h5>
<p>Use this option if you want to save the master sample to a CSV file. Click the <strong>Download</strong> button to initiate the file save process through a standard file save dialog. The default file name generated by the application has the form:</p>
<ul>
<li>
<strong>dataset-srs-master-frame-yyyy-mm-dd-seed.csv</strong> (need to add seed in code)</li>
</ul>
<p>Where <strong>yyyy</strong> is the year, <strong>mm</strong> the month, <strong>dd</strong> the day and <strong>seed</strong> the seed used to generate the sample. The user is of course free to change the file name and the location of where the file will be saved.</p>
</div>
</div>
<div class="section level4">
<h4 id="visualize-sample">Visualize Sample<a class="anchor" aria-label="anchor" href="#visualize-sample"></a>
</h4>
<p>With this menu item, the user is able to generate a Leaflet map, the map is generated automatically when the <strong>Visualize Sample</strong> menu option is selected.</p>
<p>For the map to be generated successfully, the user would have had to use the <strong>Specify Parameters</strong> menu option to specify the column names to use as the <strong>X</strong> and <strong>Y</strong> axes, using the <strong>Select X and Y columns</strong> option and have specified a CRS EPSG transform code using the <strong>Projected coordinate system</strong> option.</p>
<p>By default, both the original data points (black) and the sample points (red) are displayed on the map. The leaflet map control [—] provides the user the ability to select which set of points are displayed.</p>
<p>The user can click on any point and a popup message box will display the latitude and logitude of that point.</p>
<div class="section level5">
<h5 id="save-image">Save Image<a class="anchor" aria-label="anchor" href="#save-image"></a>
</h5>
<p>Clicking on the <strong>Save Image</strong> button will initiate process through a standard file save dialog. The default image file name generated by the application has the form:</p>
<ul>
<li>
<strong>map-srs-sample-yyyy-mm-dd-seed.jpeg</strong> (need to add seed in code, check if default is jpeg)</li>
</ul>
<p>What is being displayed on the map at the time the <strong>Save Image</strong> button is clicked is what is saved in the image file.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="uc511haltonframe-from-the-uc511-shiny-app">uc511::HaltonFrame() from the uc511 Shiny App<a class="anchor" aria-label="anchor" href="#uc511haltonframe-from-the-uc511-shiny-app"></a>
</h3>
<p>The uc511 R package includes a Shiny App with a comprehensive set of menu options, one of them is primarily focused on creating a sample of Halton Points. The <strong>Halton Frame</strong> menu option serves as the central feature and supports the following sub-menus:</p>
<p><strong>Load Shape File</strong>: This sub-menu allows you to load shape files into the application, providing the spatial data foundation for your Halton Point sample.</p>
<p><strong>Specify Parameters</strong>: After loading the shape files, you can utilize this sub-menu to specify various parameters, customizing how your Halton Point sample will be generated and visualized.</p>
<p><strong>Generate Sample</strong>: Once you have appropriately configured the parameters, you can use this sub-menu to generate your Halton Point sample.</p>
<p><strong>Visualize Frame</strong>: This sub-menu enables you to visualize the Halton Point frame, offering insights into the spatial distribution of the generated points.</p>
<p><strong>Visualize Sample</strong>: Finally, this sub-menu allows you to visualize the Halton Point sample, helping you explore the selected points.</p>
<p>Please note that each menu option becomes enabled only when all relevant options on a previous menu have been appropriately selected or provided. This ensures a structured and efficient workflow, guiding users through the necessary steps to create and analyze Halton Point samples effectively.</p>
<div class="section level4">
<h4 id="load-shape-file-1">Load Shape File<a class="anchor" aria-label="anchor" href="#load-shape-file-1"></a>
</h4>
</div>
<div class="section level4">
<h4 id="specify-parameters-2">Specify Parameters<a class="anchor" aria-label="anchor" href="#specify-parameters-2"></a>
</h4>
<p>The <strong>Specify Parameters</strong> menu item allows users to define parameters that will be later passed to the <strong>uc511::HaltonFrame</strong> function. This menu item offers several tab panels to facilitate the parameter configuration process, including:</p>
<p><strong>Sample Size</strong>: In this tab panel, you can specify the desired sample size, either as a percentage of the population or as an explicit number. This parameter controls the number of Halton Points to be generated.</p>
<p><strong>J</strong>: The <strong>J</strong> tab panel allows you to set the number of dimensions for the Halton sequence. This parameter defines the spatial dimensions in which the Halton Points will be generated.</p>
<p><strong>Bases</strong>: Here, you can configure the bases for the Halton sequence in each dimension. The bases determine how the points are distributed within the specified dimensions.</p>
<p><strong>Random Seed Options</strong>: This tab panel provides options to set a random seed for reproducibility. You can choose to use the default seed range or specify a custom seed value.</p>
<p><strong>Use st_transform</strong>: In this tab panel, you can apply a spatial transformation to your Halton Points using the <strong>st_transform</strong> function. This option is useful when you want to reproject your points into a different coordinate system or perform other spatial transformations.</p>
<p>Each of these tab panels allows you to fine-tune the parameters according to your specific requirements. They play a crucial role in shaping the characteristics of the Halton Point sample generated by the <strong>uc511::HaltonFrame</strong> function, ensuring that the resulting points align with your analysis objectives and spatial context.</p>
<div class="section level5">
<h5 id="sample-size-sample-size-configuration">Sample size : Sample Size Configuration<a class="anchor" aria-label="anchor" href="#sample-size-sample-size-configuration"></a>
</h5>
<p>The <strong>Sample size</strong> option provides control over the size of the generated sample. As of the current version, two options are supported:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Sample size as a percentage</strong> (Default): When you choose this option, a slider will be displayed. Use the slider to select the desired percentage of the auxiliary file that you want to use as your sample. The corresponding sample size will be shown as an integer in a textbox next to the slider.</p></li>
<li><p><strong>User-specified sample size</strong> (Rename this option in the app and update here!): Selecting this option allows you to specify an exact sample size by entering a specific number in a text input box. You can set a sample size ranging from one up to the total number of rows in the auxiliary file.</p></li>
</ol>
<p>Please note that the <strong>Generate Sample</strong> menu item will only become enabled once you have specified a sample size. This ensures that the application user defines the sample size before proceeding with the sample generation, providing clarity and control over the process.</p>
</div>
<div class="section level5">
<h5 id="j-number-of-grid-cells">J : Number of Grid Cells<a class="anchor" aria-label="anchor" href="#j-number-of-grid-cells"></a>
</h5>
<p>The <strong>J</strong> option allows you to control the number of grid cells used in your analysis. By default, the value is set to <strong>(3, 2)</strong>. The <strong>J</strong> parameter is represented as a list containing two values.</p>
<p>You can adjust these values to customize the granularity of your grid cells, which can have a significant impact on the spatial resolution and precision of your analysis. Experimenting with different <strong>J</strong> values can help you find the optimal configuration for your specific requirements.</p>
</div>
<div class="section level5">
<h5 id="bases-specifying-co-prime-bases">Bases : Specifying Co-prime Bases<a class="anchor" aria-label="anchor" href="#bases-specifying-co-prime-bases"></a>
</h5>
<p>The <strong>Bases</strong> option allows you to define the co-prime base values for the Halton sequence. The default values for this parameter are set to <strong>(2, 3)</strong>, and the <strong>Bases</strong> parameter is represented as a list containing two values.</p>
<p>These co-prime bases determine how the Halton Points are distributed within each dimension of the sequence. By adjusting the <strong>Bases</strong> parameter, you can fine-tune the distribution pattern of your Halton Points, allowing you to achieve the desired spatial characteristics for your analysis. Experimenting with different base values can help you tailor the sequence to meet your specific needs.</p>
</div>
<div class="section level5">
<h5 id="random-seed-options-setting-the-random-seed-options">Random seed options : Setting the Random Seed Options<a class="anchor" aria-label="anchor" href="#random-seed-options-setting-the-random-seed-options"></a>
</h5>
<p>The <strong>Random seed options</strong> option allows you to control how the random seed is established. As of the current version, two options are available:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Set seed randomly</strong> (Default): This is the default choice. When selected, the Shiny app generates a random seed within the range of <span class="math inline">\(1\)</span> to <span class="math inline">\(10,000\)</span>.</p></li>
<li><p><strong>User-specified seed</strong>: By choosing this option, a text input box will be displayed, allowing you to input your own seed value. Any valid integer is acceptable. A default value of <strong>42</strong> is provided, but you can replace it with a different integer of your choice.</p></li>
</ol>
<p>Selecting the appropriate random seed option is important, as it can influence the reproducibility and consistency of your results. The flexibility to set a custom seed ensures that you can control the randomness of your analysis when needed.</p>
</div>
<div class="section level5">
<h5 id="use-st_transform">Use st_transform<a class="anchor" aria-label="anchor" href="#use-st_transform"></a>
</h5>
<p>Fill this in.</p>
</div>
</div>
<div class="section level4">
<h4 id="generate-sample">Generate Sample<a class="anchor" aria-label="anchor" href="#generate-sample"></a>
</h4>
<p>The <strong>Generate Sample</strong> menu item empowers you to create a random sample using the parameters you have specified. This menu item includes two tab panels: <strong>Generate Halton Frame</strong> and <strong>Download Halton Frame Sample</strong>. Let’s explore the purpose and functionality of each:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Generate Halton Frame</strong>: In this tab panel, you can trigger the generation of your random sample based on the previously defined parameters. This step initiates the process of creating a Halton Frame sample according to your specifications.</p></li>
<li><p><strong>Download Halton Frame Sample</strong>: Once the random sample has been generated, you can use this tab panel to download the sample data. By selecting this option, you can save the generated Halton Frame sample to a file for further analysis or storage.</p></li>
</ol>
<p>These tab panels ensure a streamlined and organized workflow for generating and managing your random samples. They enable you to efficiently create, access, and utilize the Halton Frame samples in your data analysis tasks.</p>
<div class="section level5">
<h5 id="generate-halton-frame">Generate Halton Frame<a class="anchor" aria-label="anchor" href="#generate-halton-frame"></a>
</h5>
<p>Generating the SRS Sample</p>
<p>To create the Simple Random Sample (SRS) sample, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Click on the <strong>Generate ??? Sample</strong> button.</li>
</ol>
<p>Upon clicking this button, the SRS sample will be generated, and the random seed used for this specific sample will be displayed in a textbox to the right of the screen. If you wish to generate a new sample with a different seed, you can change the seed from the “Random seed options” panel and then initiate the sample generation process again.</p>
<p>The generated SRS sample will be displayed in a datatable for easy examination and analysis. This format allows you to review and work with your sample data conveniently, facilitating further exploration and insights.</p>
</div>
<div class="section level5">
<h5 id="download-halton-frame-sample-saving-the-generated-sample">Download Halton Frame sample : Saving the Generated Sample<a class="anchor" aria-label="anchor" href="#download-halton-frame-sample-saving-the-generated-sample"></a>
</h5>
<p>If you wish to save the generated sample as a CSV file, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Click on the <strong>Download</strong> button. This action will initiate the file-saving process, opening a standard file save dialog.</li>
</ol>
<p>The default file name generated by the application follows this format:</p>
<ul>
<li>dataset-hf-sample-yyyy-mm-dd-seed-ssss.csv</li>
</ul>
<p>Here’s what each part of the default file name represents:</p>
<ul>
<li>
<strong>dataset</strong>: Indicates that this file contains a dataset.</li>
<li>
<strong>hf-sample</strong>: Signifies that the dataset is derived from a Halton Frame sample.</li>
<li>
<strong>yyyy</strong>: The year when the sample was generated.</li>
<li>
<strong>mm</strong>: The month when the sample was generated.</li>
<li>
<strong>dd</strong>: The day when the sample was generated.</li>
<li>
<strong>ssss</strong>: The seed used for generating the sample associated with the file.</li>
</ul>
<p>However, you have the freedom to customize both the file name and the location where the file will be saved. This flexibility allows you to organize and store your sample data according to your preferences, making it more accessible for future analysis and reference.</p>
</div>
</div>
<div class="section level4">
<h4 id="visualize-sample-generating-leaflet-maps">Visualize Sample : Generating Leaflet Maps<a class="anchor" aria-label="anchor" href="#visualize-sample-generating-leaflet-maps"></a>
</h4>
<p>With the <strong>Generate Leaflet Map</strong> menu item, users can effortlessly generate an interactive Leaflet map. The map is automatically created when you select the <strong>Visualize Sample</strong> menu option.</p>
<p>For a successful map generation, follow these prerequisites:</p>
<ul>
<li><p><strong>Specify Parameters</strong> : Utilize the <strong>Specify Parameters</strong> menu option to define the column names for the <strong>X</strong> and <strong>Y</strong> axes. This can be done using the <strong>Select X and Y columns</strong> option. This step is crucial for correctly positioning your data on the map.</p></li>
<li><p><strong>Coordinate System Transformation</strong>: Specify a Coordinate Reference System (CRS) EPSG transform code by using the <strong>Projected coordinate system</strong> option. This ensures that your data aligns accurately on the map.</p></li>
</ul>
<p>By default, the map displays both the original data points in black and the sample points in red. The Leaflet map control, known as <strong>addLayersControl</strong>, empowers you to toggle between displaying the original data and the sample data, granting you flexibility in your visualization.</p>
<p>Additionally, the map allows users to interact with the data points. Clicking on any point will trigger a popup message box that displays the latitude and longitude coordinates of that specific point. This interactive feature enhances your ability to explore and analyze individual data points directly on the map, making your data visualization experience more informative and engaging.</p>
<div class="section level5">
<h5 id="save-image-saving-map-images">Save Image : Saving Map Images<a class="anchor" aria-label="anchor" href="#save-image-saving-map-images"></a>
</h5>
<p>To save images from the map, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>Click on the <strong>Save Image</strong> button, which will initiate a standard file save dialog.</li>
</ol>
<p>The default image file name generated by the application follows this format:</p>
<ul>
<li>map-hf-sample-yyyy-mm-dd-seed-ssss.jpeg</li>
</ul>
<p>Here’s what each part of the default file name represents:</p>
<ul>
<li>
<strong>map</strong>: Indicates that this file contains a map image.</li>
<li>
<strong>hf</strong>: Represents the HF option was used for the map.</li>
<li>
<strong>sample</strong>: Refers to the fact that the image is derived from your HF sample data.</li>
<li>
<strong>yyyy</strong>: The year when the image is being saved.</li>
<li>
<strong>mm</strong>: The month when the image is being saved.</li>
<li>
<strong>dd</strong>: The day when the image is being saved.</li>
<li>
<strong>ssss</strong>: The seed used for generating the sample associated with the image.</li>
</ul>
<p>It’s important to note that the content displayed on the map at the moment you click the “Save Image” button is what will be saved in the image file. This feature allows you to capture specific visualizations or representations of your data for future reference, reporting, or sharing purposes.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="the-end">The End<a class="anchor" aria-label="anchor" href="#the-end"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Phil Davies, Blair Robertson, Paul van Dam-Bates, Oliver Gansell.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
